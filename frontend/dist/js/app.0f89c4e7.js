(function(e){function t(t){for(var a,l,i=t[0],o=t[1],c=t[2],d=0,f=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==r[o]&&(a=!1)}a&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={app:0},s=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("328f")},"328f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],l=(n("034f"),n("2877")),i={},o=Object(l["a"])(i,r,s,!1,null,null,null),c=o.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Main flex h-screen w-full transition-all bg-gray-50 "},[n("side-panel"),n("main-panel")],1)},f=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lg:w-1/5 lg:px-6 px-1 py-2 border-gray-300 border-r flex flex-col justify-between shadow-lg transition-all duration-100"},[n("div",[n("button",{staticClass:"h-15 w-15 lg:text-4xl  text-3xl m-5"},[n("font-awesome-icon",{staticClass:"hover:shadow-lg  transition-all",attrs:{icon:"box"}})],1),e._l(e.tabs,(function(t){return n("button",{key:t.title,staticClass:"\n        lg:w-full\n        shadow-sm\n        flex\n        items-center\n        py-2\n        px-4\n        rounded-lg\n        hover:bg-blue-50\n        hover:text-blue-700\n        hover:shadow-md\n        mx-auto\n        mt-6\n        transition-all\n  \n      "},[n("font-awesome-icon",{staticClass:"lg:text-2xl lg:mr-4 ",attrs:{icon:t.icon}}),n("p",{staticClass:"lg:text-lg font-semibold lg:block hidden antialiased  bg-clip-text text-transparent bg-gradient-to-r from-green-500 to-blue-500 "},[e._v(e._s(t.title))])],1)}))],2),n("div",{staticClass:"w-full pb-2"},[n("button",{staticClass:"flex items-center w-full hover:bg-blue-50 lg:rounded-2xl rounded-lg pl-3 pr-3 p-1 hover:shadow-sm transition-all duration-200"},[n("font-awesome-icon",{staticClass:"w-12 h-12 rounded-2xl",attrs:{icon:"user"}}),e._m(0),n("svg",{staticClass:"h-6 w-6 ml-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}})])],1)])])},h=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ml-4"},[n("p",{staticClass:"text-sm font-bold leading-tight lg:block hidden antialiased"},[e._v("user name")])])}],p={name:"SidePanel",data:function(){return{tabs:[{icon:"laptop",title:"machine"},{icon:"layer-group",title:"model"},{icon:"laptop-code",title:"os"}]}}},v=p,b=Object(l["a"])(v,m,h,!1,null,null,null),g=b.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w-full h-full py-2 px-16 overflow-y-scroll items-center"},[n("search-bar"),n("dash-board"),n("data-table",{attrs:{data:e.data}})],1)},w=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"items-center mt-3 relative"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.search.apply(null,arguments)}}},[n("font-awesome-icon",{staticClass:"absolute top-3 ml-3 text-sm",attrs:{icon:"search"}}),n("input",{attrs:{type:"hidden",name:"CSRFToken",value:"OWY4NmQwODE4ODRjN2Q2NTlhMmZlYWEwYzU1YWQwMTVhM2JmNGYxYjJiMGI4MjJjZDE1ZDZMGYwMGEwOA=="}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchq,expression:"searchq"}],staticClass:"\n        antialiased\n        pl-10\n        lg:w-10/12\n        w-full\n        rounded-lg\n        p-2\n        bg-gray-100\n        text-sm\n        shadow-sm\n        focus:outline-none\n        focus:shadow-xl\n        transition-all\n        duration-200\n      ",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchq},on:{input:function(t){t.target.composing||(e.searchq=t.target.value)}}})],1),n("div",{staticClass:"flex flex-row mt-5 flex-wrap items-center justify-center"},e._l(e.filterfields,(function(t){return n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"el.value"}],key:t.placeholder,staticClass:"\n        antialiased\n        m-2\n        p-1\n        pl-2\n        rounded-lg\n        bg-gray-100\n        text-sm\n        shadow-sm\n        focus:outline-none\n        focus:shadow-lg\n        transition-all\n      ",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}})})),0),n("div",{staticClass:"flex flex-row mt-2 flex-wrap items-center justify-center"},e._l(e.numFilterfields,(function(e){return n("input",{key:e.placeholder,staticClass:"\n        antialiased\n        m-2\n        p-1\n        pl-2\n        mb-0\n        rounded-lg\n        bg-gray-100\n        text-sm\n        shadow-sm\n        focus:outline-none\n        focus:shadow-lg\n        transition-all\n      ",attrs:{type:"text",placeholder:e.placeholder}})})),0),n("div",{staticClass:"flex justify-end m-0 p-0"},[n("button",{staticClass:"\n        bg-blue-500\n        shadow-md\n        p-2\n        rounded-md\n        px-5\n        text-gray-100\n        justify-end\n      ",on:{click:e.filter}},[e._v("\n      filter\n    ")])])])},y=[],M=(n("7db0"),{name:"SearchBar",data:function(){return{searchq:"",filterfields:[{id:"machine",placeholder:"Machine",value:""},{id:"model",placeholder:"Model",value:""},{id:"ref",placeholder:"REF",value:""},{id:"sn",placeholder:"SN",value:""},{id:"cpu",placeholder:"CPU",value:""},{id:"os",placeholder:"OS",value:""}],numFilterfields:[{id:"ram",placeholder:"RAM"},{id:"stockage",placeholder:"stockage"}]}},methods:{search:function(){this.$store.dispatch("searchMachines",this.searchq)},filter:function(){var e={machine:this.filterfields.find((function(e){return"machine"===e.id})).value,model:this.filterfields.find((function(e){return"model"===e.id})).value,ref:this.filterfields.find((function(e){return"ref"===e.id})).value,sn:this.filterfields.find((function(e){return"sn"===e.id})).value,cpu:this.filterfields.find((function(e){return"cpu"===e.id})).value,os:this.filterfields.find((function(e){return"os"===e.id})).value,ram:this.numFilterfields.find((function(e){return"ram"===e.id})).value,stockage:this.numFilterfields.find((function(e){return"stockage"===e.id})).value};this.$store.dispatch("filterMachines",e)}},computed:{}}),C=M,j=Object(l["a"])(C,_,y,!1,null,null,null),k=j.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex sm:flex-row  flex-col items-center  lg:mt-12 mt-5 justify-center transition-all"},e._l(e.metrics,(function(t){return n("div",{key:t.title,staticClass:"flex flex-col rounded-xl p-3 border border-gray-100 shadow-md w-36 lg:mr-5 xl:mr-20 mr-4 mb-6 transition-all duration-200 min-w-max"},[n("p",{staticClass:"lg:text-2xl text-lg font-bold"},[e._v(e._s(t.title))]),n("p",{staticClass:"lg:text-xl font-semibold text-gray-600"},[e._v(e._s(t.value))])])})),0)},S=[],$={name:"DashBoard",data:function(){return{metrics:[{value:"3",title:"Machines"},{value:"12",title:"Modeles"},{value:"12",title:"Libre"},{value:"9",title:"En pane"}]}},watch:{machineCount:function(){var e=this.metrics.find((function(e){return"Machines"===e.title}));return e.title=this.$store.state.getMachineCount.results,this.$store.state.getMachineCount.results}}},R=$,P=Object(l["a"])(R,O,S,!1,null,null,null),E=P.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-center table-auto"},[n("table",{class:e.border},[e._l(e.headers,(function(t){return n("th",{key:t.title,staticClass:"lg:p-7 p-1 text-center xl:text-lg md:texl-sm text-sm font-semibold",class:t.class+" "+e.border},[e._v(e._s(t.title))])})),e._l(e.machines,(function(t){return n("tr",{key:t.model_id},[n("td",{staticClass:"xl:p-2 lg:p-1 md:p-1",class:e.tableRowBg(t)},[e._v("\n                "+e._s(t.name)+"\n            ")]),n("td",{staticClass:"sm:table-cell hidden",class:e.border},[e._v("\n                "+e._s(t.serial_number)+"\n            ")]),n("td",{staticClass:"sm:table-cell hidden",class:e.border},[e._v("\n                "+e._s(t.reference)+"\n            ")]),n("td",{class:e.border},[e._v("\n                "+e._s(t.model.name)+"\n            ")]),n("td",{class:e.border},[e._v("\n                "+e._s(t.model.ram)+" Go\n            ")]),n("td",{class:e.border},[e._v("\n                "+e._s(t.storage)+" Go\n            ")]),n("td",{class:e.border},[e._v("\n                "+e._s(t.model.cpu)+"\n            ")]),n("td",{staticClass:"lg:p-2 xl:table-cell hidden",class:e.border},[e._v("\n                "+e._s(t.os.name)+" "+e._s(t.os.type)+"\n            ")])])}))],2)])},N=[],T={name:"DataTable",data:function(){return{border:"border border-gray-500 p-1",headers:[{title:"Machine",class:""},{title:"SN",class:"sm:table-cell hidden"},{title:"Reference",class:"sm:table-cell hidden"},{title:"Model",class:""},{title:"RAM",class:""},{title:"Stockage",class:""},{title:"Processeur",class:""},{title:"OS",class:"xl:table-cell hidden"}]}},methods:{tableRowBg:function(e){return e.assigned?this.border+" bg-red-100":this.border+" bg-green-100"}},mounted:function(){this.$store.dispatch("getMachines")},computed:{machines:function(){return this.$store.state.machines.results}}},q=T,B=Object(l["a"])(q,D,N,!1,null,null,null),Y=B.exports,F={name:"MainPanel",data:function(){return{data:null}},components:{SearchBar:k,DashBoard:E,DataTable:Y},mounted:function(){var e=this;this.$store.dispatch("getMachines"),axios.get("http://127.0.0.1:8000/api/inventory/machine/").then((function(t){return e.data=t.data.results}))}},G=F,J=Object(l["a"])(G,x,w,!1,null,null,null),Z=J.exports,A={name:"Main",components:{SidePanel:g,MainPanel:Z}},Q=A,W=Object(l["a"])(Q,d,f,!1,null,null,null),H=W.exports;a["a"].use(u["a"]);var U=[{path:"/",name:"iMain",props:!0,component:H},{path:"*",redirect:"/"}],V=new u["a"]({mode:"history",routes:U}),z=V,I=n("1da1"),L=(n("96cf"),n("2f62")),K="http://127.0.0.1:8000/";a["a"].use(L["a"]);var X=new L["a"].Store({state:{machines:[],machineCount:"",modelsCount:"",aviable:""},mutations:{setMachine:function(e,t){e.machines=t}},actions:{getMachines:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,axios({method:"get",url:K+"api/inventory/machine/"});case 2:n=t.sent,a=n.data,e.commit("setMachine",a);case 5:case"end":return t.stop()}}),t)})))()},searchMachines:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,axios({method:"post",url:K+"api/inventory/machine/search/",data:{query:t}}).catch((function(t){404==t.response.status&&e.commit("setMachine",[])}));case 2:a=n.sent,r=a.data,e.commit("setMachine",r);case 5:case"end":return n.stop()}}),n)})))()},filterMachines:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function n(){var a,r,s,l,i,o,c,u,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.machine,r=t.model,s=t.ref,l=t.sn,i=t.cpu,o=t.os,c=t.ram,u=t.stockage,print("test"),n.next=4,axios({method:"post",url:K+"api/inventory/machine/filter/",data:{name__icontains:a,model__name__icontains:r,reference:s,serial_number:l,model__cpu__icontains:i,os__name__icontains:o,model__ram:c,stockage:u}}).catch((function(t){404==t.response.status&&e.commit("setMachine",[])}));case 4:d=n.sent,f=d.data,e.commit("setMachine",f);case 7:case"end":return n.stop()}}),n)})))()},getMachineCount:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,axios({method:"get",url:K+"api/inventory/machine/"});case 2:n=t.sent,a=n.data,e.commit("setMachine",a.count);case 5:case"end":return t.stop()}}),t)})))()}},modules:{}}),ee=n("ecee"),te=n("c074"),ne=n("ad3d");n("ba8c");ee["c"].add(te["a"]),a["a"].component("font-awesome-icon",ne["a"]),a["a"].config.productionTip=!1,new a["a"]({router:z,store:X,render:function(e){return e(c)}}).$mount("#app")},ba8c:function(e,t,n){}});
//# sourceMappingURL=app.0f89c4e7.js.map