{"remainingRequest":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\src\\views\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\src\\views\\Main.vue","mtime":1629208012214},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgSGVhZGVyIGZyb20gIkAvY29tcG9uZW50cy9IZWFkZXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFpbiIsCiAgY3JlYXRlZDogZnVuY3Rpb24gKCkgewogICAgYXhpb3MKICAgICAgLmdldCgiL3N0YXRpYy9wcm9kdWN0cy5qc29uIikKICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGEucHJvZHVjdHM7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgfSwKICBwcm9wczogewogICAgY2FydDogewogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IHt9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrUmF0aW5nKG4sIG15UHJvZHVjdCkgewogICAgICByZXR1cm4gbXlQcm9kdWN0LnJhdGluZyAtIG4gPj0gMDsKICAgIH0sCiAgICBhZGRUb0NhcnQoYVByb2R1Y3QpIHsKICAgICAgdGhpcy5jYXJ0LnB1c2goYVByb2R1Y3QuaWQpOwogICAgfSwKICAgIGNhbkFkZFRvQ2FydChhUHJvZHVjdCkgewogICAgICAvL3JldHVybiB0aGlzLnByb2R1Y3QuYXZhaWxhYmxlSW52ZW50b3J5ID4gdGhpcy5jYXJ0SXRlbUNvdW50OwogICAgICByZXR1cm4gYVByb2R1Y3QuYXZhaWxhYmxlSW52ZW50b3J5ID4gdGhpcy5jYXJ0Q291bnQoYVByb2R1Y3QuaWQpOwogICAgfSwKICAgIGNhcnRDb3VudChpZCkgewogICAgICBsZXQgY291bnQgPSAwOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2FydC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmNhcnRbaV0gPT09IGlkKSB7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gY291bnQ7CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhcnRJdGVtQ291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcnQubGVuZ3RoIHx8ICIiOwogICAgfSwKICAgIHNvcnRlZFByb2R1Y3RzKCkgewogICAgICBpZiAodGhpcy5wcm9kdWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgbGV0IHByb2R1Y3RzQXJyYXkgPSB0aGlzLnByb2R1Y3RzLnNsaWNlKDApOwogICAgICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikgewogICAgICAgICAgaWYgKGEudGl0bGUudG9Mb3dlckNhc2UoKSA8IGIudGl0bGUudG9Mb3dlckNhc2UoKSkgcmV0dXJuIC0xOwogICAgICAgICAgaWYgKGEudGl0bGUudG9Mb3dlckNhc2UoKSA+IGIudGl0bGUudG9Mb3dlckNhc2UoKSkgcmV0dXJuIDE7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHByb2R1Y3RzQXJyYXkuc29ydChjb21wYXJlKTsKICAgICAgfQogICAgfSwKICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdFByaWNlKHByaWNlKSB7CiAgICAgIGlmICghcGFyc2VJbnQocHJpY2UpKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CiAgICAgIGlmIChwcmljZSA+IDk5OTk5KSB7CiAgICAgICAgdmFyIHByaWNlU3RyaW5nID0gKHByaWNlIC8gMTAwKS50b0ZpeGVkKDIpOwogICAgICAgIHZhciBwcmljZUFycmF5ID0gcHJpY2VTdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKTsKICAgICAgICB2YXIgaW5kZXggPSAzOwogICAgICAgIHdoaWxlIChwcmljZUFycmF5Lmxlbmd0aCA+IGluZGV4ICsgMykgewogICAgICAgICAgcHJpY2VBcnJheS5zcGxpY2UoaW5kZXggKyAzLCAwLCAiLCIpOwogICAgICAgICAgaW5kZXggKz0gNDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICIkIiArIHByaWNlQXJyYXkucmV2ZXJzZSgpLmpvaW4oIiIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiJCIgKyAocHJpY2UgLyAxMDApLnRvRml4ZWQoMik7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"Main\">\n    <Header :cartItemCount=\"cartItemCount\" :cart=\"cart\"> </Header>\n    <main>\n      <div v-for=\"product in sortedProducts\" :key=\"product.id\">\n        <div class=\"row\">\n          <div class=\"col-md-5 col-md-offset-0\">\n            <figure>\n              <img class=\"product\" v-bind:src=\"product.image\" />\n            </figure>\n          </div>\n          <div class=\"col-md-6 col-md-offset-0 description\">\n            <router-link\n              tag=\"h1\"\n              :to=\"{ name: 'Id', params: { id: product.id } }\"\n              >{{ product.title }}</router-link\n            >\n            <p v-html=\"product.description\"></p>\n            <p class=\"price\">\n              {{ product.price | formatPrice }}\n            </p>\n            <button\n              class=\"btn btn-primary btn-lg\"\n              v-on:click=\"addToCart(product)\"\n              v-if=\"canAddToCart(product)\"\n            >\n              Add to cart\n            </button>\n            <button disabled=\"true\" class=\"btn btn-primary btn-lg\" v-else>\n              Add to cart\n            </button>\n            <span\n              class=\"inventory-message\"\n              v-if=\"product.availableInventory - cartCount(product.id) === 0\"\n              >All Out!\n            </span>\n            <span\n              class=\"inventory-message\"\n              v-else-if=\"product.availableInventory - cartCount(product.id) < 5\"\n            >\n              Only\n              {{ product.availableInventory - cartCount(product.id) }} left!\n            </span>\n            <span class=\"inventory-message\" v-else>Buy Now! </span>\n            <div class=\"rating\">\n              <span\n                v-bind:class=\"{ 'rating-active': checkRating(n, product) }\"\n                v-for=\"n in 5\"\n                :key=\"n\"\n                >â˜†\n              </span>\n            </div>\n          </div>\n          <!-- end of col-md-6-->\n        </div>\n        <!-- end of row-->\n        <hr />\n      </div>\n      <!-- end of v-for-->\n    </main>\n  </div>\n</template>\n \n<script>\n// @ is an alias to /src\nimport Header from \"@/components/Header.vue\";\n\nexport default {\n  name: \"Main\",\n  created: function () {\n    axios\n      .get(\"/static/products.json\")\n      .then((response) => {\n        this.products = response.data.products;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n  components: {\n    Header,\n  },\n  props: {\n    cart: {\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      products: {},\n    };\n  },\n  methods: {\n    checkRating(n, myProduct) {\n      return myProduct.rating - n >= 0;\n    },\n    addToCart(aProduct) {\n      this.cart.push(aProduct.id);\n    },\n    canAddToCart(aProduct) {\n      //return this.product.availableInventory > this.cartItemCount;\n      return aProduct.availableInventory > this.cartCount(aProduct.id);\n    },\n    cartCount(id) {\n      let count = 0;\n      for (var i = 0; i < this.cart.length; i++) {\n        if (this.cart[i] === id) {\n          count++;\n        }\n      }\n      return count;\n    },\n  },\n  computed: {\n    cartItemCount() {\n      return this.cart.length || \"\";\n    },\n    sortedProducts() {\n      if (this.products.length > 0) {\n        let productsArray = this.products.slice(0);\n        function compare(a, b) {\n          if (a.title.toLowerCase() < b.title.toLowerCase()) return -1;\n          if (a.title.toLowerCase() > b.title.toLowerCase()) return 1;\n          return 0;\n        }\n        return productsArray.sort(compare);\n      }\n    },\n  },\n  filters: {\n    formatPrice(price) {\n      if (!parseInt(price)) {\n        return \"\";\n      }\n      if (price > 99999) {\n        var priceString = (price / 100).toFixed(2);\n        var priceArray = priceString.split(\"\").reverse();\n        var index = 3;\n        while (priceArray.length > index + 3) {\n          priceArray.splice(index + 3, 0, \",\");\n          index += 4;\n        }\n        return \"$\" + priceArray.reverse().join(\"\");\n      } else {\n        return \"$\" + (price / 100).toFixed(2);\n      }\n    },\n  },\n};\n</script>\n\n"]}]}