{"remainingRequest":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\src\\views\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\src\\views\\Main.vue","mtime":1629208012214},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\benbrik\\Documents\\Devlopment\\petstore\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBIZWFkZXIgZnJvbSAiQC9jb21wb25lbnRzL0hlYWRlci52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1haW4iLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiL3N0YXRpYy9wcm9kdWN0cy5qc29uIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhLnByb2R1Y3RzOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlcgogIH0sCiAgcHJvcHM6IHsKICAgIGNhcnQ6IHsKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tSYXRpbmc6IGZ1bmN0aW9uIGNoZWNrUmF0aW5nKG4sIG15UHJvZHVjdCkgewogICAgICByZXR1cm4gbXlQcm9kdWN0LnJhdGluZyAtIG4gPj0gMDsKICAgIH0sCiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChhUHJvZHVjdCkgewogICAgICB0aGlzLmNhcnQucHVzaChhUHJvZHVjdC5pZCk7CiAgICB9LAogICAgY2FuQWRkVG9DYXJ0OiBmdW5jdGlvbiBjYW5BZGRUb0NhcnQoYVByb2R1Y3QpIHsKICAgICAgLy9yZXR1cm4gdGhpcy5wcm9kdWN0LmF2YWlsYWJsZUludmVudG9yeSA+IHRoaXMuY2FydEl0ZW1Db3VudDsKICAgICAgcmV0dXJuIGFQcm9kdWN0LmF2YWlsYWJsZUludmVudG9yeSA+IHRoaXMuY2FydENvdW50KGFQcm9kdWN0LmlkKTsKICAgIH0sCiAgICBjYXJ0Q291bnQ6IGZ1bmN0aW9uIGNhcnRDb3VudChpZCkgewogICAgICB2YXIgY291bnQgPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNhcnQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5jYXJ0W2ldID09PSBpZCkgewogICAgICAgICAgY291bnQrKzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBjb3VudDsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXJ0SXRlbUNvdW50OiBmdW5jdGlvbiBjYXJ0SXRlbUNvdW50KCkgewogICAgICByZXR1cm4gdGhpcy5jYXJ0Lmxlbmd0aCB8fCAiIjsKICAgIH0sCiAgICBzb3J0ZWRQcm9kdWN0czogZnVuY3Rpb24gc29ydGVkUHJvZHVjdHMoKSB7CiAgICAgIGlmICh0aGlzLnByb2R1Y3RzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgcHJvZHVjdHNBcnJheSA9IHRoaXMucHJvZHVjdHMuc2xpY2UoMCk7CgogICAgICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikgewogICAgICAgICAgaWYgKGEudGl0bGUudG9Mb3dlckNhc2UoKSA8IGIudGl0bGUudG9Mb3dlckNhc2UoKSkgcmV0dXJuIC0xOwogICAgICAgICAgaWYgKGEudGl0bGUudG9Mb3dlckNhc2UoKSA+IGIudGl0bGUudG9Mb3dlckNhc2UoKSkgcmV0dXJuIDE7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwcm9kdWN0c0FycmF5LnNvcnQoY29tcGFyZSk7CiAgICAgIH0KICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdFByaWNlOiBmdW5jdGlvbiBmb3JtYXRQcmljZShwcmljZSkgewogICAgICBpZiAoIXBhcnNlSW50KHByaWNlKSkgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQoKICAgICAgaWYgKHByaWNlID4gOTk5OTkpIHsKICAgICAgICB2YXIgcHJpY2VTdHJpbmcgPSAocHJpY2UgLyAxMDApLnRvRml4ZWQoMik7CiAgICAgICAgdmFyIHByaWNlQXJyYXkgPSBwcmljZVN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpOwogICAgICAgIHZhciBpbmRleCA9IDM7CgogICAgICAgIHdoaWxlIChwcmljZUFycmF5Lmxlbmd0aCA+IGluZGV4ICsgMykgewogICAgICAgICAgcHJpY2VBcnJheS5zcGxpY2UoaW5kZXggKyAzLCAwLCAiLCIpOwogICAgICAgICAgaW5kZXggKz0gNDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAiJCIgKyBwcmljZUFycmF5LnJldmVyc2UoKS5qb2luKCIiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiQiICsgKHByaWNlIC8gMTAwKS50b0ZpeGVkKDIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"Main\">\n    <Header :cartItemCount=\"cartItemCount\" :cart=\"cart\"> </Header>\n    <main>\n      <div v-for=\"product in sortedProducts\" :key=\"product.id\">\n        <div class=\"row\">\n          <div class=\"col-md-5 col-md-offset-0\">\n            <figure>\n              <img class=\"product\" v-bind:src=\"product.image\" />\n            </figure>\n          </div>\n          <div class=\"col-md-6 col-md-offset-0 description\">\n            <router-link\n              tag=\"h1\"\n              :to=\"{ name: 'Id', params: { id: product.id } }\"\n              >{{ product.title }}</router-link\n            >\n            <p v-html=\"product.description\"></p>\n            <p class=\"price\">\n              {{ product.price | formatPrice }}\n            </p>\n            <button\n              class=\"btn btn-primary btn-lg\"\n              v-on:click=\"addToCart(product)\"\n              v-if=\"canAddToCart(product)\"\n            >\n              Add to cart\n            </button>\n            <button disabled=\"true\" class=\"btn btn-primary btn-lg\" v-else>\n              Add to cart\n            </button>\n            <span\n              class=\"inventory-message\"\n              v-if=\"product.availableInventory - cartCount(product.id) === 0\"\n              >All Out!\n            </span>\n            <span\n              class=\"inventory-message\"\n              v-else-if=\"product.availableInventory - cartCount(product.id) < 5\"\n            >\n              Only\n              {{ product.availableInventory - cartCount(product.id) }} left!\n            </span>\n            <span class=\"inventory-message\" v-else>Buy Now! </span>\n            <div class=\"rating\">\n              <span\n                v-bind:class=\"{ 'rating-active': checkRating(n, product) }\"\n                v-for=\"n in 5\"\n                :key=\"n\"\n                >â˜†\n              </span>\n            </div>\n          </div>\n          <!-- end of col-md-6-->\n        </div>\n        <!-- end of row-->\n        <hr />\n      </div>\n      <!-- end of v-for-->\n    </main>\n  </div>\n</template>\n \n<script>\n// @ is an alias to /src\nimport Header from \"@/components/Header.vue\";\n\nexport default {\n  name: \"Main\",\n  created: function () {\n    axios\n      .get(\"/static/products.json\")\n      .then((response) => {\n        this.products = response.data.products;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  },\n  components: {\n    Header,\n  },\n  props: {\n    cart: {\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      products: {},\n    };\n  },\n  methods: {\n    checkRating(n, myProduct) {\n      return myProduct.rating - n >= 0;\n    },\n    addToCart(aProduct) {\n      this.cart.push(aProduct.id);\n    },\n    canAddToCart(aProduct) {\n      //return this.product.availableInventory > this.cartItemCount;\n      return aProduct.availableInventory > this.cartCount(aProduct.id);\n    },\n    cartCount(id) {\n      let count = 0;\n      for (var i = 0; i < this.cart.length; i++) {\n        if (this.cart[i] === id) {\n          count++;\n        }\n      }\n      return count;\n    },\n  },\n  computed: {\n    cartItemCount() {\n      return this.cart.length || \"\";\n    },\n    sortedProducts() {\n      if (this.products.length > 0) {\n        let productsArray = this.products.slice(0);\n        function compare(a, b) {\n          if (a.title.toLowerCase() < b.title.toLowerCase()) return -1;\n          if (a.title.toLowerCase() > b.title.toLowerCase()) return 1;\n          return 0;\n        }\n        return productsArray.sort(compare);\n      }\n    },\n  },\n  filters: {\n    formatPrice(price) {\n      if (!parseInt(price)) {\n        return \"\";\n      }\n      if (price > 99999) {\n        var priceString = (price / 100).toFixed(2);\n        var priceArray = priceString.split(\"\").reverse();\n        var index = 3;\n        while (priceArray.length > index + 3) {\n          priceArray.splice(index + 3, 0, \",\");\n          index += 4;\n        }\n        return \"$\" + priceArray.reverse().join(\"\");\n      } else {\n        return \"$\" + (price / 100).toFixed(2);\n      }\n    },\n  },\n};\n</script>\n\n"],"sourceRoot":"src/views"}]}